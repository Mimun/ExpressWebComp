<!doctype html>
<html lang="en">

<head>
    <title>PopperJS</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="../../node_modules/mdbootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="../../node_modules/mdbootstrap/css/mdb.min.css">

    <!-- <link rel="stylesheet" href="./Popper.css"> -->
    <link rel="stylesheet" href="./Popper.css">

</head>

<body>
    <h2>Popper JS</h2>
    <div class="container">
        <div class="row">
            <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
                <div class="rel">
                    <p class="bold">Scroll me</p>
                    <p class="thin">up and down</p>
                </div>
            </div>
            <div class="col-xs-9 col-sm-9 col-md-9 col-lg-9">

            </div>
        </div>
        <div class="row">
            <div class="col-md-4 col-6" id="reference">
                <div id="draggable-scroll" class="card">
                    <h5 class="card-header success-color white-text">Draggable panel</h5>
                    <div class="card-body">
                        <p class="card-text">Drag me outside container boundary to enable auto-scroll</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="popper col-xs-4 col-sm-4 col-md-4 col-lg-4" id="popper" style="padding: 0%">
        <div id="draggable-scroll" class="card">
            <h5 class="card-header success-color white-text">Draggable panel</h5>
            <div class="card-body">
                <p class="card-text">Drag me outside container boundary to enable auto-scroll</p>
            </div>
        </div>
        <div class="popper__arrow" x-arrow></div>
    </div>

    <!-- <basiccomp-wc></basiccomp-wc> -->




    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <!-- <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous">
    </script> -->
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous">
    </script> -->

    <!-- <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous">
    </script> -->


    <script src="../../node_modules/mdbootstrap/js/jquery-3.4.1.min.js"></script>
    <script src="../../node_modules/mdbootstrap/js/popper.min.js"></script>
    <script src="../../node_modules/mdbootstrap/js/bootstrap.min.js"> </script>
    <script src="../../node_modules/mdbootstrap/js/mdb.min.js"> </script>

    <!-- One more test -->
    <script src="/Components/BasicComponentWC/BasicComponentWC/BasicComponentWC.js" type='module'></script>
    <script>
        var refElem = document.querySelector('#reference');
        refElem.setAttribute('draggable', true);
        var onLeftPopper = document.querySelector('#popper')
        var popper = new Popper(refElem, onLeftPopper, {
            placement: 'bottom',
            modifiers: {
                flip: {
                    behavior: ['left', 'bottom', 'top']
                },
                preventOverflow: {
                    boundariesElement: refElem,
                },
                arrow: {
                    enabled: true
                }
            },
        });
        refElem.popper = onLeftPopper;
        // onLeftPopper.style.display = "none";
        console.log(popper, refElem);
        refElem.addEventListener('click', (el) => {
            refElem.popper.style.display = refElem.popper.style.display === 'none' ? 'block' : 'none';
        })
        // https://redstapler.co/popper-js-tutorial-manage-popup-like-pro/

        var myElem = document.createElement('basiccomp-wc');

        myElem.addEventListener("wc_loaded", (event) => {
            console.log(myElem.html, event);
            var sampleDiv = document.createElement('div');
            // sampleDiv.innerHTML = myElem.html;
            sampleDiv.innerHTML = event.detail;
            document.body.appendChild(sampleDiv);

        });

        document.body.appendChild(myElem);
    </script>
</body>

</html>